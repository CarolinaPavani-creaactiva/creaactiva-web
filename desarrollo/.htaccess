# .htaccess — DESARROLLO (local)
RewriteEngine On

# Ajusta RewriteBase si tu app está en subcarpeta (ej: /creaactiva-web/desarrollo/)
RewriteBase /creaactiva-web/desarrollo/

# NO forzar https/www en local

# Ocultar index.php de la URL
#RewriteCond %{THE_REQUEST} \s/index\.php[?\s] [NC]
#RewriteRule ^index\.php$ / [R=301,L]

# URLs limpias → index.php?page=...
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^/]+)/?$ index.php?page=$1 [L,QSA]

# 404 personalizado
ErrorDocument 404 /404.php

# Seguridad básica
Options -Indexes

<Files ".htaccess">
  Require all denied
</Files>

<FilesMatch "\.(ini|log|sh|sql|bak|tpl|dist)$">
  Require all denied
</FilesMatch>

# Compresión/caching (opcional)
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/plain text/html text/xml text/css application/xml application/xhtml+xml application/rss+xml application/javascript application/x-javascript
</IfModule>

<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType image/jpg "access plus 1 month"
  ExpiresByType image/jpeg "access plus 1 month"
  ExpiresByType image/png "access plus 1 month"
  ExpiresByType image/gif "access plus 1 month"
  ExpiresByType text/css "access plus 1 month"
  ExpiresByType application/javascript "access plus 1 month"
  ExpiresDefault "access plus 7 days"
</IfModule>
